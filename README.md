# tic-tac-toe

This is a record of our thoughts as we were doing this Odin Project assigment. This one seemed like a big step above the others, as we are using classes now, and at certain points got pretty frustrating.

We want to create a tic tac toe game that can be played in terminal... The assignment says to think carefully about what should be a class, instance variable, and method. It also notes to take into consideration what should and shouldn't be shared between classes.

So... let's think about how this game is gonna work. We'll have a board (not sure how to display a tic tac toe board in terminal) and each player will take turns putting their respective x's or o's into the board. The first to get 3 vertically, horizontally, or diagonally wins. I'm thinking we should have a player class... Honestly I'm not sure why we'd even need classes and such, asides from practicing object oriented programming. So, since we're gonna have to test this, I think we probably want the players to be us and the computer. So, generate code for the computer to randomly pick a spot (that should be interesting, we've never had to do AI code before). Then there should be some check, at the end of each move, to see if there's 3 in a row on the board, who has it, and declare that player the winner.

So we know we need a tic tac toe board, would that be a class? Are we spawning objects from it? Yes, I think i know why we should make classes. For objects that need spawning, which is just the X's and O's right? We would need multiple X's and O'x generated at certain spots as the game goes on. The board, the players, is there a point to them being classes? Honestly the hardest part seems to be making the board? I think we should start by creating the board. 

So we're gonna start with making the board. I think this is alot like the etch a sketch grid? Just less tiles? We need only a 3 x 3, but that was done in Javascript, and this assignment is in Ruby. Do we even know how to make a ruby webpage? I think this is gonna need to have html and css like the etch-a-sketch assignment. Alright, let's start coding this board, but... lets make html and css pages. Ok, so we get the default html outline and create our html and style scripts, and now we're thinking, what do we need to add in the html part? I think there was a container, and then we generated the squares with the script. Do we need to do this, since we aren't going to be changing the squares? Can we just draw in a tic tac toe board? I'm not even sure how we'd even do that lol. So we add a div called "container", not sure if this was how we did it before but, we really want to try to recreate by ourself from memory before we look at a previous assignment for reference. 

As we recall, we made the grids in rows and columns, using code that involved a loop within a loop. Let's try that in our rb script. Hmmm.. we're googling how to do this like it was javascript and it doesn't seem like we can. Maybe we're thinking about this the wrong way. Maybe this game is supposed to be played on terminal? When they say "command line" are they talking about html inspector console, or the terminal? It could be more clear.

Honestly we feel stuck. Not sure where to even start with this. How do we "display a board between turns in the command line"? So we find this "vikingcodeschool" that has a page about this specific project. It seems way more detailed than we initially thought. Their first step is to "whiteboard" everything, putting all the logic in plain english. There are 3 classes they use: tic tac toe (for the game), player (for the 2 players), and board (board takes input from the players and adjusts the board accordingly). Although this was very helpful, we really are just looking to see how they generate the board. We go to their board class, and it is a loop within a loop, as expected. We glance over it, it looks alot like the etch-a-sketch code, so we were close but, I think the board is just represented by "-", or dashes, and we don't really have to make a website or anything like that. Let's see if we can do it... but we're still confused, where does the board go? Is it just an array inside an array that we print out in terminal? I think the problem here is we've never really drawn anything in terminal, so I'm not sure we can even do this. There should have been an assignment or something about making patterns in terminal, before this assignment, because this is a pretty big leap of faith that we can just draw grids inside terminal. Let's start trying out some code and seeing if we can draw some 3 x 3 structures.

Alright, let's say we can an array of dashes, of 3 dashes to be specific. Can we loop through each of those dashes and make more dashes, to form rows and columns? Our first iteration of the code printed out the same array that we started with lol. What if we made our array empty? Let's review vikingcodeschool code and see if we can get any more hints. 

We copied the vikingcodeschool "board" class code and the "render" function bc we don't really understand the code. Previously we're thinking like, 3 items in the array, but that doesn't actually make sense. Is it actually 3 arrays? Alright, it looks like the code makes 3 arrays, or 3 hashes, we can't really tell what this part is doing " @board = Array.new(3){Array.new(3)}". Then there is the logic when looping through each row and column, it prints out a "-", so that kinda makes sense, but what is the part regarding cell print to_s about "cell.nil? ? print("-") : print(cell.to_s)" This is all apparently wrapped inside 2 "puts", and there's "print"s inside the puts. Not sure if we're dumb, or this website did a terrible job of explaining how exactly this code creates the tic tac toe board, but when we ran the code it worked, so I guess we "figured it out", but we really don't understand the code lol. Can we reverse engineer this? What if we remove the "to_s" part, what will that do? Let's try it. That's interesting. So when we remove the "to_s" part out of the loop logic, and just code "if cell.nil? print("-")", we get the same tic tac toe board. Not sure what to make of that. Maybe that logic becomes important when we actually start filling out the board?

Let's play around with the data structure part of this code. We think it just makes 3 empty arrays. So let's code it like that, instead of what they coded. Googling "Array.new(3)" reveals that this creates only 1 array, with 3 "nil" items in it. I'm not sure if thats the same as creating an array with 3 empty items, or mayb we can't do that, that's why they had to use "Array.new(3)". Hmmm.. so removing the data structures part of that code gives us an error "NoMethodError (undefined method `each' for nil:NilClass)". Can we print this array and see what it looks like? So, it prints "[[nil, nil, nil], [nil, nil, nil], [nil, nil, nil]]", which is 3 arrays, of 3 nil items each. So this code, I don't think it was talking about hashes. It kinda used hash notation with the brackets but "Array.new(3){Array.new(3)}" seems to mean create an array of 3 nil items, and each element in the array (represented by the brackets), is an array itself with 3 nil items. Let's google more and see if we can find what these brackets mean. This part of the Ruby documentation regarding arrays is interesting "a) Array.new(4) {Hash.new}    #=> [{}, {}, {}, {}]
b) Array.new(4) {|i| i.to_s } #=> ["0", "1", "2", "3"]" We have 2 examples a and b. In a, we create a new array of 4 elements, and the brackets denotes what's inside each element, in this case an empty hash. B also creates a new array of 4 elements, and inside the brackets of have block logic to have "i" be a variable for each element index I guess, and we convert "i.to_s", giving us an array of 4 elements with numbers "0" to "3". We see they also used "to_s" here, and we see the rationale behind it in this example. 

Looking over the code, I think we understand why removing the "print cell.to_s" didn't affect the board. This was part of the loop logic in which the element wasn't nil, but since all the elements were nil, nothing got convered to string. However, we still don't understand why we need 3 identical arrays of 3 nil elements. Why not just 1 array of 3 elements and loop through each element and create more nil elements? Maybe bc we aren't making variable sized tic tac toe boards, so we can just hardcode a 3 by 3 board? What if we actually did the same thing, but replaced the nil elements with dashes ("-"), doesn't this give the same result? Let's try it. OK, so this is interesting. When we code "board = Array.new(3){Array.new(3, "-")}", we get what we expected. An array of 3 elements, and each element is an array of 3 dashes. We "puts" this array, and get "
-
-
-
-
-
-
-
-
-
" or 9 dashes, vertically set apart. This is very close to what we want the tic tac toe board to be, so now we're wondering if we even needed to do a loop within a loop to get spacing the way we want it, a 3 x 3 board of dashes. Now that we think about it. How would we replace the dashes with X's and O's in a real game though, we'd have to have some way to remember where the dashes are to replace them with something else... Let's play around with puts and see if we can't get a 3 x 3 board with just puts and arrays with dashes. 

What about this? What if we make just 1 array of 3 nil elements, instead of 3 arrays, bc we don't think we need 3 arrays, and use the exact same code. I know we got an error before, but maybe we did something wrong? What does the same code, but with just 1 array give us on the board? Actually we do get the same error method as before, "undefined method each for nil class" or something. So, I guess with just 1 array, there's nothing to loop? But that doesn't make sense, bc you can still loop through each nil element. I think we should just give up on trying to understand this code 100%. We understand most of it, but still don't understand how the rows and columns are being created. Let's move on to the rest of the code. I think this was the biggest hurdle, bc we had no idea how to actually make a board in terminal, so this was definitely a big help.

Let's flesh out our pseudocode, and the classes we want to use, just like in the vikingcodeschool example. The classes in the vikingcodeschoool example were player, board, and tictactoe class itself, which seems fine. The assignments asks us to consider what's a class, which we've done, but also what's an instance variable and what's a method. We still aren't sure what these are, so let's google them and see if we can't figure it out. It seems that every object has its own scope, and instance variables are variables inside the scope of that object. The common example is something like "@name=name", where the instance variable "@name" is set to some name, and that defines an instantiated objects name. I guess the main point is that these variables exist only within the class, they are private variables within the class. A class method is just a function that's defined within the class it seems, so only accessible from the class. I think these usually start with "self.[method name]", whereas an instance method is a function used by an instance of the class, and it's defined without the "self." lead. We call class methods with "[name of class].[class method]", where we call instance methods by creating an instance of the class, e.g. "class = Class.new",then "class.[instance method]. We can't call an instance method from the class directly, and we can't call a class method from an instance of it. I think we're finally clear about these topics, but the subject matter does seem a little complicated to grasp. Better real world examples would have helped incorporate the knowledge.

Let's first do the pseudocode (should this be done before or after our class determination? probably after?), then consider the variables and methods. So, we're gonna have a player class, a board class, and a tictactoe, or maybe call it "game", class. The player class will manage the input of the players, their turns, and I'm not sure what else is needed. The board class generates the tic tac toe board, updates it according to the player input, and I think that's it. The game class determines game state, so it starts the game, looks for win conditions throughout the game, then when somebody has won, ends the game. Seems simple enough lol. Can we flesh this out even more? Should we? We know that vikingschool example fleshed out pretty much everything, before coding each part of it.

So, the game starts (game class initiates start of game), we get our 2 players (player class maybe asks for their name, or if we're testing, we can assign a computer player to one spot, then each player get's defined with their game piece, an X or O). The first player picks their coordinate (the board class takes the coordinate, renders the board with the new piece on it, then hands it back to the player class for the second player to pick). The first piece goes on the board, then the second player chooses, and the board is updated accordingly. This keeps alternating back and forth and the game continues (meanwhile the game class is tracking the game state, any 3 of the same X or O in a horizontal, vertical, or diagonal pattern results in the game being over and a winner declared; I guess the game could end up in a tie too, so maybe once all the spots are filled, game class can declare a tie). Oh yeah, fleshing out all the game procedure, with their classes, seems like a big help when we want to organize our code. 

OK, so we start with our game class initiating the game. As we're about to type the code, we realize we don't know if this should be a method class or an instance class. Do we want to call a "Game.start" function, or call it off of some object? How do we determine this? Let's google and see. Google said something along the lines of if there's some object calling the method, we'd use an instance method, but starting the game, seems more of a general method to the class, and not specific to any object, so we'll go with a class method here. Alright,so have a class method called start, but what does it do? I think we want to create the game board, and assign the players. How would we even do that if they are in different classes? How do we access a player name from the player class lol. There was alot of reading about object oriented programming, but maybe it wasn't clear, or the material too dense, but we're not sure how the data would be shared. Can we just call the "Player" class from our "Game" class? Apparently we can call the Board class from our Game class, so now we're gonna have to create the Player class. What does the player class want to do again? We should probably get the name of our players, at least player 1 since player 2 is likely just the computer. Playing tic tac toe vs ourself would be kinda dumb lol. Wait a minute... maybe we don't want a start method, but just an initialize method? When do we even use "initialize"? So, we're in the player class, and we're thinking. Do we want a class method here, or a regular method to assign our players? What's the difference? We look at the board class for reference and the "render" function isn't a class method or an instance method. We're googling and looking through the previous readings of OOP, and not seeing the difference between a method defined in a class, as opposed to a class method, set by "self.[method]". Is the only difference being the class method can only be called within the class? If so, we don't want our "get players" method in the Player class to be a class method then, bc we want to call it from our Game class. Let's test and see if we can call a class method, as opposed to just a method. Apparently the Player class method was still callable from the Game class, so maybe if we want it explicitly private we have to notate the function under "private"? 

OK, so what do we want in our "get_players" function? Maybe ask player 1 for their name? Then player 2 can be the computer? Lol, we don't remember how to prompt for a name. Apparently we just puts whatever it is we want to ask I guess, maybe we can't do it? Not sure. We noticed that when we tried to call "Players.get_players" it didn't work unless we defined "get_players" as a class method (by putting "self." before the method name). OK, so we named both of our players, we should also assign them X or O as well, but what we noticed when trying to print out player1 and player2, is that we can't from the Game class, since they belong in the Player class. How do we transmit this data if it is private inside of classes? If we put the player1 and player2 parameters in get players, then it asks for those parameters in input, which we don't want. Let's try an "@" before the variables, making it an instance variable. What does this change? Doesn't look like we can access player 1 or player 2 still. Alright, I think if we use "@@", and "p @@player1", we can access it now? Now it says the class variable is not initialized lol. Let's google this? Google reminds us of "attr_reader :[class]". What if we put this before our method? Now are the variables read in the "game" class? Lol, it still says undefined variable for game class. Let's put in the variables for our paramters, then define them in the Player class, then set them using "@@player =", then see if we can call them from Game class. Wow, it still says defined,maybe we have to return it? Lol, nothing we're trying is working... Let's try the return method and see what's being returned? Let's break up the player 1 and player 2 so we don't get an array?

Hmmm... using "p Player.get_player1" actually got us our name, is this bc of the explicit return? or bc we aren't asking for player1 which is in the Player class. Let's try it with the old function but printing out the result of "get_players" instead. Surprisingly that didn't work. Let's try "get_players" without the parameters... Why does printing the function work with the single player method, but not work with the double player method? Hmmm... actually  without the parameters the double player function works the same as the single player function. I guess if we want player 1 from the game class, we don't define it, but rather call it with "Player.get_player1", which I guess is fine, although longer. What if we remove the attr_reader part before the get_player code, does that still work? It still works, so not sure where attr_reader is required, but not here.

OK, we've defined the players. Now, let's assign their X or O, then start the game and ask them where they want to put their symbol. How do we assign X's and O's? Is that even necessary? Why don't we just ask them where they want it, then player 1 is always X and player 2 is always O. The game board makes it obvious? Or we can change the name to player X and player O? I mean, those names are just temporary, which is why we asked for their names in the first place, but yeah, I don't think there needs to be any formal declaration of which player has X and which player has O. Now, we need to start the round mechanic, passing priority off to each player and letting them choose their spot, probably via the coordinate system (0-2, 0-2). 

Alright, so we're gonna do a class method called play_round that takes coordinates from player1, then player2, but.. we still have this problem lol. We need to access the players? Wait a minute, we're just calling the player by their class, yeah... it's not a problem, I don't think. Now, we're gonna ask player 1 where he wants his X but... how is this input received? We've only mostly gotten strings, and one word at that, for our "gets"? Doing some test code reveals that they can type in anything, so have them type in x,y, then find the cordinates from that? Ok, so we've made it clear in the instructions that they need to input coordinates, but how are we to process that data? We need to extract all the brackets, and the commas, if they include it. Is this just a string to chars conversion? Let's try some test code in terminal. Yeah, so "chars" breaks it into the brackets, commas,and numbers, now we need to extract the first and second number and give that answer to board class to update board.

Using our previous assignment knowledge, we were able to do a filter method to weed out all characters except 0,1, and 2, and put them in a new array for the board class to update the board. We initially set if statements to the numbers 0,1,and 2,and that resulted in nothing being in the filtered coordinates array. We needed to set these numbers to strings "0","1","2" to match the chars array we made. While adding the filter method to our game class, we realized that we don't want it to have a parameter of an array, but rather a string parameter, so we can plug our answer_string into it. We were able to make the conversion fairly quickly, which was good. Experience from the previous assignments has made this part alot quicker that it could've been. I think we need something else here though, some kind of rejection for numbers that are less than 0, and greater than 2, but no rejection for brackets, parantheses, or commas. Basically, if the player enters invalid coordinates, we want to display an error message, but we don't want to display an error message for commas, brackets, and parantheses. 

Add more layers to this filter method, returning a filtered array if the coordinates are valid, and returning an error message if the coordinates are not valid. Ok, so we can make an error message just fine, for any invalid coordinate, but, how do we ask them again for valid coordinates? There should be a loop here seeing if the answer is valid... Ok, so we come up with another function, probably inside game class as well, called "coordinates_valid?" which checks the coordinates to see if the x and y values are between 0 and 2 each.

Our 2nd if statement in the filter method doesn't seem to be registering. Debug that and see... We tested the coordinates_valid? already, but is the correct array getting in there to test? Ok, I think we might have figured it out, it's in this line of code "if (arr[0].to_f >= 0 && arr[0].to_f <=2) && (arr[1].to_f >= 0 && arr[1].to_f <=2)". Here, we convert the arrays into a number, via "to_f", but if a coordinate is missing 1 number, say [1,nil], this should be an invalid coordinate, but "nil.to_f" converts to a "0.0", which makes it actually equate to true in our if statement. We're thinking we need to change it to if it equals 0,1, or 2, but 0.0 is still equal to 0, actually let's test "to_i" first, bc we don't really want decimals. Yeah, first of all, we want to change our "to_f" code to "to_i", I mean integers is what we wanted, but we weren't sure if "to_i" worked, and we know "to_f" did, but yeah, integers is what we want... Now, how do we account for nil? Why don't we explicitly exclude "nil"? Ok, we put another condition that its not equal to nil, now let's test the array with just 1 coordinate and see if that still returns true. Good, now the array [1] is false. now let's run the bigger code and see if we get the answer that we want. 

OK, putting in the nil exception worked, so now what? We made the coordinates valid boolean to obviously determine whether the player gave us valid coordinates or not, so what happens if they coordinates are bad? We need to keep asking until we get valid coordinates? Use a while statement and call the function again? Alright, we put in the while statement for "while coordinates valid == false , Game.play_round". Let's see if this loops the way we want. Now that we look at our puts code for the input, we should make it clearer by saying "x and y can be 0,1, or 2 for values", something like that. We get that player1 not defined again, and I think we saw where we messed up. We typed "puts #{Player.player1}..."
and thats not now we're calling player 1, its "Player.get_player1", so let's try that and see if it works now. Man, this thing is taking so long to compile. It always seems to slow down so much when we put a method inside a method. Lol, we realized while we were running the code that we hadn't finished typing out the logic for the game lol. I think for now, after we filter the answer, we'd want to just puts out the correct array, or filtered array for now, just to test our filter function and the filter loop. After it compiled, it got stuck at "coordinates_valid", saying it was an invalid function. One time that we ran it, we forgot we made the function a boolean, so its name is actually "coordinates_valid?", or is it "Game.coordinates_valid?" Yeah, if we're gonna define class methods, we have to make sure we call them as such, with the class name with first letter capitalized and a period, before calling the function. Ok, so we got to the coordinates invalid? part of the play_round function (we had put in [1,3] for our coordinate), and it gave us an error "ArgumentError (wrong number of arguments (given 0, expected 1))" Oh, we see it now, it was in our "while Game.coordinates_valid? == false Game.play_round" code. Game.coordinates_valid? Ok, so our code is working now. We put in the wrong coordinate at first to see if we get a loop, and it does loop, unfortunately, the loop keeps on going lol, even after we put in the correct coordinates, so yeah, we need to fix that. First, we're gonna run the code again and see what happens when we put in the correct coordinates the first time, but let's look at our while loop in the meantime. Just debug the while loop and see if we can get out of it, make sure it's not a while loop with no condition to get out.

Ok, putting in the correct coordinates the first time, returned our correct coordinates, so that part of the code worked. Now... how do we get out of our while loop. Can we break down this while function into something smaller to test. Let's try to simplify the code and test it and make sure the while condition can be broken, bc currently it doesn't look like it can. We can put a "p Game.coordinates_valid?(filtered_array)" inside the while loop after calling "Game.play_round" to see if it's true or false and whether that affects whether the while loop gets broken or not. OK, putting the print for the coordinates_valid? boolean reveals that it's always false, even when we have the right coordinates? Let's explicitly make the boolean equal to true when it's true condition is met and see if that breaks the condition? How do we break out of a while loop? Lol, we can't remember. Yeah, explicitly doesn't work. What if we just put another if loop in there, I mean, another if loop just does it one more time, but it won't keep doing it. We need a way to change this boolean. Let's try putting the while statement outside of the if statement, since if it goes to that part of the if statement, it'll always be false? Yeah, this could work maybe lol. Yeah, the returned array is valid but... coordinates_valid? still shows up as false. How do we make that true? Is it using the wrong array? Debug for which array it's using before printing true or false. Yeah, so we're gonna p the filtered array before printing the coordinates_valid? and see what that says, maybe the wrong filtered array is being input? Bc if it is the right filtered array, it should break out of the while statement right? Either that, or we've set up our while statement in a way that makes it not breakable. OK our results show that the initial filtered array stays there, and is not being cleared out before the next instance? Even after we pick the right filtered array, it shows it as being right, that initial filtered array remains, which is, weird? Why don't we try deleting the filtered array before running it again? While this is compiling, we had another thought. Why don't we put the actual code for play_round in, instead of calling the function, since we don't want things to be the same. Meaning, we put the puts in to ask for the coordinates, we get the coordinates, we filter the coordinates, then we check if coordinates valid? Maybe we should separate the filtering of coordinates, from the checking to see if it's valid? That might be where we can add logic to see if it's valid or not valid. We can put the question inside the filter function, and ask it again, until the coordinates are valid?

Interesting, so emptying out the filtered array, before calling play_round, leads to an always empty filtered array, which would always be false lol. Alright, let's try separating the filter method, from the coordinates_valid method. Alright, so we slightly changed our code, from the array of "filtered_array" to the array of "Game.filter(answer1)". Our filter method is the only time we update our array, so we want to make sure it's getting called. We're expecting the same results as filtered array frankly, but we wanted to see if this changes anything. We also added another debug for "p answer1" to see what our initial answer is, basically trying to track the code down as it moves and see where the logic doesn't line up to what we want the code to do. I think if this doesn't work, we should recheck with the vikingschool website and see how they coded their logic. Wow, the compiler is so slow. Yeah, I think this is usually the case when we put methods inside of methods, it seems to just really slow down, not sure why. It's not actually calling these methods? Alright, we are getting an error for undefined variable "filtered_array", and we can see why. It's defined in the filter method, but we are calling it in the play_round method. Let's review the vikingcodeschool example and see how they did it. Yeah, our current code definitely is not working, bc moving the code to play_round means we can't access "filtered_array" anymore. There's also a valid coordinates function, where if valid, it returns true, and if false, it says to reinput coordinates.

Ok, so to summarize. They used a do loop in the get coordinates function, and asked if the coordinates were valid, and if they can be placed (we're not at that part yet), and if they are, to "break" the loop. Also, there logic is a little different. They have the asking for coordinates logic in the Player class, and it seems to do the same thing, they puts the question, then break down the answer into a readable format. Let's try it more their way, with a "loop do" and a "break". Lol, it still keeps looping endlessly. We noticed an extraneous if statement in our code, so let's remove that and see if it fixes it. The code never reached our break statement, which is kinda scary lol, it's the exact same problem we were having before. OK, good, we did end the loop after removing the superflous "if" in our code. We've finally fixed this part of the code.

We did notice one interesting thing when we ran the "Game.play_round" function, and that was before it told player1 to pick coordinates, it asked for player1 name again, even though that was in Game.start, so we need to figure out if the puts to get a name is being duplicated somewhere? Looking over the Player.get_player function, it does have a puts in there asking what is the player name, so if that function is getting called, it will ask everytime, which is obviously not what we want?  We want an object created for the player? How would we fix this? Why don't we start by removing "#{Player.get_player1}" from the play_round function. I mean, its clearer to know who is playing, but, its not entirely necessary, especially if it's gonna cause problems? Do we need to assign X and O to each player though? In the vikingcodeschool example, it talks about assigning actions to objects, and that's what determines if some element in the game requires a class, or just an array/hash. Reviewing this part of their tutorial, they talk about what is a noun and what is a verb. We need to figure what are the elements of the game, and what actions need to be performed in the game. This will determine what our classes, or nouns, are, and what methods, or verbs, they use.

Ok, so removing the "Player.get_player1" code from our loop stop the redundant asking of the players name but... we might still need to assign that player something so can call the plyaer, as of right now, whenever we call "get_player1" it's gonna ask for the player name. OK, on to the next part for now. Once the coordinates are valid, we need to place the piece on the board itself. One thing we glossed over that's important is that it's possible the coordinates are valid, but the spot is already taken on the board, so we're gonna need another check, to see if the spot on the board is already taken. I think making an array of spots taken, then comparing it to the filtered array is how we'd do that here. Alright, let's test our coordinates_taken? function by itself first, then put it in the bigger code to test fully. Interesting, our coordinates_taken? function is return false, even for coordinates already in the array. I don't think it's looping through the array, bc of our returns in the if statement. Ok, we got around the return problem by putting the "return true" if it equals a coordinate in the coordinates_taken_array, and the "return false" outside of all the looping, before the function "ends". Ok, now let's put it in the bigger function and see if it works. Remember that our taken coordinates we've set up to debug are (0,2) and (1,1), so, give a taken coordinate for the first ask, then give a non-taken coordinate, to see if we get the proper responses. Lol, we waited 10 mins to compile the code, only to find that we changed the code from "self.coordinates_taken?" to "coordinates_taken?" to test the function by itself, and forgot to change it back, and now the method gives an undefined error.

We've added the self back to "self.coordinates_taken?" function, now test the code fully to see if that function works, and the rest of the code as well. Then, we need to create a function for the "board" class to place the game piece on the board. Hmmm... after putting in the "self" for the class of the "coordinates_taken" function, we tried to put in the first coordinate as a taken coordinate, but it came out as coordinate not taken. Looking over the code, we realized that the coordinates of our filtered array are in string form (this is what happens when we use string.chars, it breaks into strings), but the coordinates in our test coordinates_taken_array are in integer form, so we fixed it. Hopefully that gives us the correct answers now. It's taking a god awful long time to compile we've noticed. We have to do something about this compiling time, it's very hard to test waiting 10-15 mins after each compile wtf. Alright, it finally finished compiling, and our "coordinates_taken?" function does work, however, it's not saying anything when the coordinates are taken, it's just looping back to the first puts, where is the puts that says "coordinates invalid". Is it bc of the break that the rest of the code doesn't execute? Basically when the coordinates are valid, but taken, there is no error message before it asks for the coordinates again.

We looked over the code and there is no code for what happens if the coordinates are valid but taken, so we just added an "else" line with the same puts as if the coordinates were taken. Now that we think about it, we shouldn't have the same error message, it should be more specific. We could say "coordinates valid, but already taken" or something like that. While it's compiling, let's think about how we'd make a function that places an X or O on the board at a specific coordinate. How is our board generated again? Its an array of 3 arrays with 3 nil elements each. Hmmm.. how does this fit in with the coordinate system. Really glad we found this vikingcodeschool example because, I'm not sure we'd ever be able to make this leap of logic by ourself. I think the arrays themself are in a 3 x 3 grid... they probably are but, how do we select the array we want? I think we need to debug our board render function with some prints and puts and see where everything goes, so we can target them. Try to label each array with a different number maybe, and from there, we should be able to figure out which array is which on the board. Alright, our code did work and we were able to put in the error message that we wanted. Maybe we can update that error message to say the coordinates are valid, but the spot is already taken, or something like that. Then, work on a function to place X and O on the board.

So how do we get each array to print out something different, we are looping through each one, so we can't really assign different values to each unless we make a really long block of code. Can't we do the "++" and start with an integer or something? Hold up, so the board consists of 3 arrays, of 3 nil elements each, so what is the first array? If there's 3 arrays, the first array is element 0, second is 1, and third is 2, right? Inside the array, we can acess with a the second qualifier,and there are 3 elements inside each array, 0, 1, and 2. So, to access the first array, its [0,..], so first array, first element is [0,0]. Wait these correspond to the coordinates that we've been using in our code lol, but is it really that simple? Let's render the board and try to call certain coordinates, but first we need a board with different values for each coordianate... Let's print out the index of each array, can we do that? I mean, that's something we've done before right? Lol, we try "index_at" and it returns undefined method, pretty sure it's "find_index". That code did work, but instead of printing out numbers, it printed out a bunch of nils, we weren't expecting that. Man, we can't seem to make each cell print stuff we want. Let's do random values in each cell, then see if we can call them with "@board[x,y]"?

That's weird, "board" gives us the arrays of "@board", but "board[0,2]" doesn't give us the value of the elements inside the array. Hmmm.. we're kinda stumped, how do we mark the board when we can't really access the positions inside the board. How do we even access different positions, as our render function just loops through it. We look up ruby docs, and there's a "array.at" method that also gives an index value. Using that, we get an error saying no way to convert nil to integer. So, these arrays have nil elements, which aren't integers? Wtf? There are no indices for elements that are nil? That's kinda weird to think about. We're gonna have to look at the vikingcodeschool example again. We have no idea how to actually manipulate this board with the coordinates.

So the vikingcodeschool sets a variable 'piece' equal to @boards[][]. So, let's try accessing our board with soemthing like @board[0[0]][0[1]] and see if maybe that shows up with something? Lol, what the hell that didn't work. We haven't tried running the vikingcodeschool code yet, but that's pretty suspect lol. Well, their code is actually "@board[coords[0]][coords[1]]", so let's try it that way? Nope, we still get this "[]" is not a method for nil class rejection. We're trying all the array methods on "board" and "@board" and it doesn't seem to work. Is it not an array? Very confused. Let's look through other projects, this is getting rediculous. Looking over other projects and tutorials, there are other ways to set up this board. We could create a cell class, then place cells inside each array, instead of nil, which would be better? Or just explicitly put down an array for the board, e.g."example_array = [
  ["X", "O", "X"],
  ["O", "O", " "],
  ["X", "O", "1"]"

We really don't like this assignment. Not sure if we had to work and it broke our coding mindset or what, but it seems to require huge leaps in logic that we weren't prepared for in our assignments. I mean, yeah, I think we tried this before with the array thing, but in terminal, that array doesn't print out like a row of 3 x 2, but rather a row of 9, which is not what a tic tac toe board looks like. Can we create our own cell class, then put these cells inside the array loop in the board class? Let's try that. Hmm, we're trying to add a cell class. but still not sure how to acess these values, or change it. Wait a minute, isn't this like the etch-a-sketch? How did we acess those cells? We set a get element by id to them I think, from what I remember. Can we set these cells to a variable? What if we remove the nil elements, and replace them with something else, does that allow the array to be accessed?

Hmm.. we're still unable to access these elements of the board. I think we have to do a new way to create the board? Let's look over viking code? Can we try the viking code and see how it works? In the vikingcode, they set "@piece" equal to "@board[][]", they don't actually access or overwrite the board? We can also look at other projects as well. Ok, so the vikingcodeschool code works, which isn't surprising, but their pieces are X's and Y's , wtf, lmao, did they even test this shit. Let's copy their board code and see how they placed the pieces, bc we really like their board code, it seemed to be the only one that gave the tic tac toe board (although we really didn't test the other codes lol)

Ok, I think we get it now. After playing around with this code a bit, I think we understand how it works. It doesn't actually modify the "nil" elements in the arrays, but it does change them (isn't this a contradiction lol). We didn't think it was this simple but.. this part of the code "@board[coords[0]][coords[1]]", is referring to the board, and the coordinates of the board, like what we were doing before getting stuck on placing a game piece down. So, here, we're calling the board, which is our grid, or array of arrays, and we want the final output to be someting like "@board[][]". This is how you access an array within an array. It's not like this "@board[x,y]", that doesn't get the positions that we want. Now... "cords[0]" is the first position of our coordinate to be placed, and "cords[1]" is the second position. That means that a filtered array of [1,2] results in filtered array [0] and filtered array [1], and the final output is "@board[1][2]". So, we didn't really understand the [][] notation of multidimensional arrays, or forgot about it, same difference, so it was hard to grasp what the code was doing. The other key point that we didn't understand before debugging the code was, instead of trying to access these nil elements inside the arrays, we can simply set them equal to something else, which is what the "@board[coords[0]][coords[1]] = piece" code is about. I think if we still try to access these nil elements, it will still say no method for nil class, but we can change the elements and type board and it will give us an updated board, which is all we really need. So, in summary, we forgot multidimensional array format is [x][y], not [x,y], and we didn't know that although we can't access @board[x][y], bc it will say no method when we try to call it, we can set the element that code refers to, to either an "X" or an "O", and the board will still update.

Alright, well let's place the piece on the board then. We want to create that function, and do it. OK, so we add an add_piece function to board, putting in a parameter of an arr2 and piece. This begs the question, is our array in string format, or integer format, bc if it's in string format, that doesn't work with the way arr[int] method is used to call an array element. So, if they are not compatible, we have to convert the string to an int, before putting it in the arr[int] method. Furthermore, how do we define piece, since each player has their own piece, and they are different. How do we give each player a piece? I don't we need to revisit our player class and redefine the players. Maybe use an initialize function like we saw in the other projects we were looking at. Wow, we got to our place_piece function, and it turns out visual studios auto completed our Board.place_piece with a Board.play_round. We quickly found the error, but it's now another 15 mins to compile lol. Now we get an undefined method for place_piece. I think this either means the parameters could be mixing strings and integers (for arr2), or maybe piece parameter needs to be defined. Let's put in some p and debug what's actually going into place_piece function, as as written it should be a working function.

OK, so we isolate the pertinent classes of board (with the place piece function) game filter functions, and get the same old message about "undefined method [] for nil class". Let's isolate the place piece function by itself, I think the problem is in there. Yeah, isolating it gets the same error message. Let's take another look at vikingcodeschool and see what they did again. Let's run the vikingcodeschool code again and see what the difference is. Ah yes, rerunning the vikingcodeschool, we got the same rejection, then realized that to call the "add_piece" function, we need the instance of the board object, since this was an instance method, so using "board.add_piece([0,2], "x")" did update the board, so our code is fine, we just need to use preface it with a "board..." first. Actually, looking at our code, we made ours a class method, so we can't do that. We have to remove the "self" in order to use "board...", so let's try that. Yes, that did work! Man, such a seemingly small difference (we used "self", or a class method, to make things more private, to secure the code as much as possible I guess, but it backfired in this case) determined whether our code worked or not, pretty crazy and aggravating lol.

Now let's add the filter method and see if anything breaks. Now we get a no conversion from string to integer error, which we kinda expected. Let's run this filter method and see what is actually being returned. OK, so yeah, the filtered array returned is an array of strings for the coordinates. Our place_piece function is an array of numbers, so we have to convert the strings to integers before putting them in the filtered array. We simply put a "to_i" before pushing the character into the filtered array. Let's see if this is fixed. Ok, that worked, a really quick fix, now let's run the bigger code and see if everything works. Don't forget that other methods rely on the filtered array as well, such as coordinates_valid?, so make sure those take numbers instead of strings now. Yes, the bigger function does work now. Let's go fix the coordinates valid? and other functions that rely on the filtered array before we forgot. Ok, so we updated the coordinates valid? function to not convert the elements to an integer, bc they will already be in integer form with the new filtered array. We updated the coordinates_taken? function with an array of integers instead of strings for the sample coordinates_taken_array that we made. We changed the class method call of "Board" in the Game glass to object call from "board". Hopefully everything works fine now. Lol, it takes 20 mins to compile, then says undefined method or variable "board". Do we have to use @board or is board not generated? Our game.start call already had the "board=Board.new" and "board.render" code in it, so we shouldn't have to call board again? Hopefully @board fixes this. Can we isolate this problem without running the entire code? Waiting 20 mins a time is really slowing us down. Jesus, now we get a "undefined method `[]' for nil:NilClass". This was the problem before we used "board" I think.

Let's look in the vikingcodeschool and see how the add_piece method was called. That part of the code looks fine, but looking at other parts, they are different, so let's try to make it more like the vikingcodeschool example, since that one does work. So, we see that in their game class, called tictactoe, they initialize and set @board = board.new. We made a function, but it's not an initialized. Then to start the game, since you need to create an object for the game, they do "t = tictactoe.New" into "t.play". I'm not sure if this is gonna fix the problem, but let's try making these changes. There's also other code to set up the players, pieces, and current player, which we can adjust later if we need to. Do we want to change our play_round to play? I think so, since this play will be a constant loop, there are really no rounds. We made it into a class method, which means we're gonna have to remove the class method first. We decided to add a @board.render after @board = Board.new, bc we wanted the players to see the empty board. Hopefully this code fixes the problem, otherwise we'll probably copy the player and pieces code to see if that makes a difference. Hopefully this code doesn't lead to the same rejection. Interesting, so that seemed to have fixed the no method problem, but we can't call board or @board anymore. When we call game, we get the board, and the x is there, so it's updated, but the board isn't rendering to show the changes? I think that change fixed things, but let's try "@board.render" and see if the new board shows up, if it does, then thats ok it would seem. If not, maybe try "game" or something, bc that did show the board when we typed it in terminal. Ok, having "@board.render" after updating the game piece does work, but we see something wrong with the board. It seems to go from top left to bottom right, but we want it in more standard coordinate format, that is, bottom left to top right... how would we fix that? Also, we still need to figure out how to assign pieces to players, as currently we are just manually telling the place_piece function what piece to place.

While we try to make the coordinates more standard, let's put down multiple pieces and see if the board updates it, not just one piece. Let's talk out all the moves and see if there's equation to convert it. On this grid's (0,0) is where we want (0,2) to be, so x stays the same, but y + 2. On this grids (1,1), our grid is also (1,1), so nothing changes. On this grids (2,2), our grid (2,0), so we subtract y - 2 here. Ok, we already notice a pattern. The x coordinate is correct and doesn't need to change, it's the same in this grid and a standard grid. However, the y coordinate does change. If y= 0, then y + 2, if y=1, then it can stay the same, and if y = 2, then it's y -2. So, the only change that really needs to be made, so when y = 0 or 2. In these cases, we add 2, and subtract 2, respectively. Now, how do we convey this in code? 

First of all, this will go into our filter method. I think we just need to put a couple of if statements inside, for when y = 0 and y = 2, to change their values before adding it to the filtered array. Lol, our code didn't change anything. Let's put some puts in here and see what is being output. After putting in alot of puts, we find the error in the setting of the new value. We put "==" instead of "=", so we changed it to just 1 equals sign. Now hopefully the 2 gets changed to a 0 for coordinate (0,2). Alright, it looks like the board is updating multiple pieces, and the coordinates are the way we want them. 

We need to fix the pieces problem that we have. We have to assign players to certain pieces. So, both our Game and Board class have initialize functions, so I think our Player class should have one too. Now, how do we initialize the players? We want their names and their pieces. How we do we initialize it with more than 1 player? I'm not sure, I think with 1 player, we just use player, name, and piece variables and set them, but how do we do this with 2 players? Looking at the vikingcodeschool example, they only defined it for 1 player, and they have a board variable too, not sure why that's necessary, the player doesn't own the board? Wait a minute, we remember from our assignment readings, we need to create instances of the player class, the class itself is not the player. Alright, so let's initialize with name and piece for each player.

Let's try to create objects from this player class and assign names and pieces? This player class is looking very bare right now lol. It seems when we initialize the player class and put in parameters, it wants those parameters as we are creating an instance of the class. But, we don't have the name until we ask the player? Wtf? Ok, why don't we ask the questions first, then save those answers, then create our players?
Ok, so I guess that worked. We asked the players their names, then we assign them their pieces but... Why doesn't player1.name work? How are we suppose to access the name and piece? Oh, do we need to give access? Let's try assr_reader or whatever it is. It's attr_reader, and yeah, that did work, nice. We thought we really misunderstood how to access the details of a class there for a second. Alright, so let's put it in the big code that we want to ask for player1 name, give them their piece , then declare player 1 and 2, before going on to the coordinates thing.

Alright, good, now we have the player names and pieces assigned... How do we know who's pieces to put when? We're gonna need a current player variable, and some way to alternate between players, in order to determine who the player is. We also need to fix our play loop, as it stops after the first coordinate is picked, while we want it to alternate between each player picking until there is actually a winner or a tie. I think by default, we want player1 to start, but we're gonna need a function to switch players? Will it be in the player class? I think so? Alright, we quickly made a switch players function in the Player class, now let's test it out. It doesn't seem like the player1 and player2 variables are accessible by the switch_players function. Let's try to put a gets_players function that defines player1 and player2 inside the Player class, and see if that resolves the issue. First we wanted to put parameters for get_players, but it'd just be player1 and player2, which isn't that helpful, so we removed it. We also put attr_reader for player1 and player2, but since we removed the parameters for get_player, not sure that does anything anymore. 

It's still saying player1 is undefined. Let's put in those parameters for get player, and keep the attr_reader for player1 and player2 and see if that changes anything. Lol, we put in the parameters for the get_players function, then forget to put in the parameters as we're calling the function. Wow, we are still getting this "(undefined local variable or method `player1' for Player:Class)" error. Let's review the code and see how we can make player1 and player 2 accessible, and if we can't figure it out, let's review the vikingcodeschool example again.
Ok, so putting "Player.get_players(player1, player2)" gave us an error saying player1 is not defined, but putting "Player.get_players(@player1, @player2)" does work for the function. However, when we try the "Player.switch_players(@player1.name)" function, it says "name" method undefined. So what if we don't use the name, and just set @player equal to @player, an object equal to an object, would that work? Alright, we redid the Player.switch_players method and only used the player object as a parameter, and for comparison, not the name, let's see what happens now. The player object actually worked, not giving us an error, but we were expecting the other player to be returned. We put alot of puts in for player1 and player2 and reran, to see what is actually player1 and player2, and if they are equal or not. We're kinda curious as to what an object shows as a puts and a print. Lol, there was an error compiling bc we forgot the @ from @player2, pretty annoying. After this works, we need to deconstruct it and see where the @ are important and where they are not. As we recall, the @ helps expose the variable outside of its class? Now thats weird... the results show that @player1 and @player2 are showing up, but current_player is blank. Current_player is the parameter in our switch_players function, and we called it with this code "Player.switch_players(@player1)", which apparently doesn't register player1, so why don't we try it like this, calling the object directly "Player.switch_players(player1)". Nope, that gives us a undefined local variable for player1, that's really weird lol. Let's double check the code. Alright we're gonna try the @player1 parameter code again, but this time we're gonna print current_player to see what is actually being transmitted into the parameter. Maybe objects can't be a parameter? Or maybe we need to give writer access to the players? Ok, so the code is done and interesting results. Printing out current_player gives us "nil". Not sure how an object returns nil. Now we'll try the code again, this time giving player1 and player2 "attr_accessor" privileges.

I'm not sure why current_player isn't getting passed along. Maybe look at vikingcodeschool and see how they did it. Ok, so it looks like the switch_players function in the vikingcodeschool example is pretty similar to ours, but there is not parameter. Current_player is actually an object that is initialized in the Game glass, defaulting to player1, and the switch_players function asks if they are player 1, and if so, make the current_player player 2. So, they aren't passing objects around (maybe that's not possible for some reason?), but just reassigning the current player. So, let's try that code. I'm thinking since we get the players info in the Player class, that's where we can initialize the current player too. Alright, so we added current player to our get_players function in the Player class, then updated the switch_players function to not have a parameter, and to check if current player is equal to player1 , and if not, to set it to player 1. This should work now. Lol, we get an error bc we didn't change the call of get_players to add @current_player. Let's try this again. Alright, that worked. The player was switched, and we didn't have to explicitly return the current player, since it was the last part of our code it returned implicitly.

Ok, now let's make sure the piece of the current player is put on the board when we call board render. Then, fix our play loop so that it loops until there is a winner. Right now, it's just doing it until the first piece is placed (move the break somewhere else?). Alright, so we tried to fix both of these things, before compiling. It isn't ideal, but compiling takes so long, we kinda wanted to do it both bc hopefully they work and we save time on compiling a couple more times. For the board piece, we simply changed our hot fix of "x" for the piece, into "@current_player.piece". Then, we tried to fix the loop. Currently, after the first piece is placed, there is a break, which obviously stops the play loop. We remove that break, then added another if statement outside that if statement to check if coordinates were valid and taken. We put a counter = 0 at the start of the play function, then tick it up before this new if statement, saying that when counter >= 9, to break the loop. This should theoretically repeat the loop 9 times (so the board is full), then stop it. This is a temporary replacement for a function that checks to see if there is a winner, or if the game is a draw, after each piece is placed. So, what are we checking when this compiles? First, we want to give a coordinate that is in the taken array, like 1, 1, then we want to give a coordinate that isn't in the taken array, to check if our if statement and coordinate check functions are working properly. Then, we need to see if that pieces being placed are alternating, that is, the switch players function is working correctly, and that the current player has the correct piece associated with it. Finally, we need to make sure the loop keeps looping, at least 9 times, although we shouldn't be able to reach that, since we can't place 9 pieces on the board (we already have a couple coordinates taken in the coordinates taken array). The 9x loop thing is worse than we thought, come to think of it, bc it will tick up the counter when a invalid answer is given. To really test, we shoulda ticked it up after a piece is placed.

The first check passed, our coordinates checking functions are fine, but when it went to place the piece, it said piece was an undefined method. Let's go back into the Player class and see if current_player.piece shows up as anything. Alright, we're gonna print out "@current_player.piece" with the switch_players function and see what shows up. If it does show correctly, maybe we need 2 @ signs to access piece from outside its class? So, something like "current_player.@@piece" inside the Game class. We did notice that removing alot of the commented out code resulted in our code compiling in 10 mins, instead of the 20 mins or so it was taking last night, so that's one way to speed it up. Hmm.. the code worked fine in the Player class, so maybe we have to give access to piece? No, we already have read access to it. I think we need to isolate that Game class part of the code, but it requires the board class, player class, and filter from the Game class. Let's just break down the code and try to test it. We can't compile the whole thing bc it takes 10 mins, so just cutting out the parts we need, and pasting that together, will save us some time, even though it is more work on our end. Let's see how long this partial code takes to compile. As we're compiling, what should we test when it's done? The main thing is this place_piece function. We want to see if @current_player.piece, and if it doesn't, we print current player to see if thats correct, then maybe try @@current_player in case we need access or something, then we can try @current_player.@piece and see if that does anything. Ok, so we get to the piece part, and yeah, it's not working. let's try @piece. @piece says unexpected instance variable. Let's try @current_player and see what shows up. Interesting, @current_player is showing up as nil. Where did we define current player? In the Player.get_players function, so why is it nil? Does player1 and player2 show up? Let's run get players again, then check those values? Interesting, @player1 isn't showing up after get_players, so how do we know if they are created or not? Let's try the Player class by itself again. The partial code only took 3 mins to compile, so that was good.

OK, so this is weird. Player1 doesn't show up, but running the switch_players function does print out the relevant data and switch the players, so their values are in there. Are we just accessing it wrong? We can try just printing. Looking over our code, we never gave current_player a name (which it doesn't need) or a piece, so maybe that's why? But current_player is equal to player 1 or player 2, so those values should transfer. Let's look over vikingcodeschool and see how they did it. Hmm.. the vikingcodeschool example is interesting. They didn't even call current player, they just used "@piece" inside their add_piece function for that parameter. Let's try that and see what happens, and print out @piece, bc isn't that something that can change? Lol. We change it to @piece and let's see what happens. We noticed when the Board class was compiling that we had an extraneous end. That was probably there in our partial code when we did it the first time. Maybe that changed some failure? Not sure. But we did isolate just the player class, and it didn't work, so there's that. Come to think of it, we don't even need this other stuff in the code. All we need is to test the Player class? Just try to access @current_player.piece or just @piece, we don't really need the Board class for that. Yeah, it seems like the problem is that @current_player.piece is showing an error, and that doesn't need the add_piece method for us to fix the error. Well, something did change, bc now we get a different error. This one says that @board.place_piece is not a method, and checking code reveals that place piece isn't a class method, so we can just use "place_piece". We did and it still says place piece is not a method, what the hell. Actually no, @board.place_piece is correct. We are calling the method from the object, that is the correct way to do it. Why didn't it work the first time lol. We decide to recompile and not change anything and see if the place_piece function compiles, which it did. Interesting, it seems to need to change our "board= Board.new" to "@board...", since that is what vikingcodeschool did. When we changed it, we don't get the error anymore, which is good.

However, we tried to print out @piece and nothing printed, which isn't good I don't think. We're gonna try to rerun the whole code, now with @piece instead of @current_player.piece and see if that fixed anything.
Honestly, we don't think it did, bc we can't print @piece, but we were able to print @current_player.piece from the switch players function. Yeah, I don't think @piece did anything, we printed out the new board and it was blank. Let's play around with this player class for a bit. Why can't we access @current_player.piece it doesn't make sense. Ok, let's isolate the player class and see if we can manipulate all the players and their variables first before we proceed. So, we type in @player1 and it's nil. then @player1.name and that gives us an error for the name method. Yeah, this still doesn't work. However, if we set a variable equal to new player, we can get the info. Why don't we use the variables then? Instead of the @? Wtf is that @ anyway?

Lol, let's try these variables again, this time using the instantiated object as a the variable, instead of the @. Let's google what this @ is. Ok, so player1 etc. for the get_players parameter just doesn't work, we have to use @ there. If we can't access @current_player.piece, then why can we print it out inside the switch_players function? Looking over the vikingcodeschool code, it seems in their Player class, the name and piece have accessor status, so let's try that. Hmm, that didn't change anything. Why don't we give accessor status to all the player and current_player. Or maybe we have too many class methods. Just change get_players to a regular method? It seems none of the other examples we've seen have this much class methods? The problem with not having a class method, is that we need an object to call these methods? Which means the place piece will have to move into the Board class, which it already is? Looking over vikingcodeschool, we see that they have a @board initialized for the player, which we found trivial, but maybe that's important? That's one of the few things we see that's different between the codes, that and none of their methods being class methods. We also noticed that they created their players with ":x" , or symbol x, for their piece, and not "x", why is that? Let's initialize our guys with symbols and add a board and see what happens. We still can't access this info, it's so weird. We can create a variable for a new player, then call .name from it, and more importantly .piece, but this variable can't be used inside a parameter, we need to use @player1, but with this info we can't call the piece? Is that what's going on? Let's play around with this and see if we can't transfer this info inside parameters?

Can we create an equivalent smaller function that employs creating an object and calling its methods and setting it as a parameter for another method? Lol, we can't even create a person instance with 2 variables, keep getting some syntax error for the comma. While reviewing classes in the launch school tutorial, we find the getter and setter method, which allows us to get the values from the object... In that example, typing object.name doesn't return the name, so they create a new function "def get_name @name", which they can call with object.get_name to get the name. I think we can do this with piece to get our piece... maybe. Let's try our little sample code again, and put just 1 parameter, and see how that works. Not sure why it's not working. Apparently that's just how it works. We need to create a getter method to call these initialized variables apparently. Let's go back to our current code and see if that solves the issue. That's so weird, that still doesn't work. Get_piece still says undefined method wtf. Lol, we're kinda back to where we started. Let's see, can we transmit this data? It seems with get_name, it does open up some things, let's remove the get players function, or at least remove the parameters, as that isn't necessary? Yeah, we're gonna try this again, stripped down further, and see if we can access the names and pieces from just their @variable forms. Dammit, @player1.get_name says get_name is not defined still. Only when we set a variable player equal to Player.new does this work, but we can't use this as a parameter? We saw that we could with our made up Person class, so why can't we use it in this code? Seems very frustrating. Let's try doing everything with an instantiated object variable and see how far we get. Lol, player1 doesn't work either. It can't be accessed, says its undefined. What if we remove the class method for get_players? Maybe that's blocking our info? If we remove it as a class method, how are we gonna call it? We're gonna need a player object to call it, right? That didn't seem to do much either... What if we create these objects outside of the their class function, is that the ticket? Bc currently we can do that... 

Alright let's run the Player class code, then create our players outside of that code, then run the rest of the code... Does it work like that? Ok, that actually did work. We are able to play around with the name and piece for each player, but here's the real test. Will the switch_player method work for these player variables? We tried to run switch_player but we still had the @player so let's change that. We're thinking maybe switch_player won't know how the current player, player1, and player 2 is, but then, can't we just put those in as parameters? Yeah, let's try it without parameters, and if it doesn't work, with parameters. Wow, that actually did work. We were actually able to move the pieces around, this took so long lmao. However, the switch players function is not working properly, bc current_player stays as mike forever. See if we can fix that.

Just looking over the switch_players code, it looks fine. Let's comment back in the puts we put to debug in, and see what values are showing up for player1, player2, and current_player. So, the code looks fine. It recognizes the current_player as "mike" or player1, then it switches the current_player to player2, or "computer" as evident when we run "p current_player.piece" and get "o" for the result. However, after the code is run, we type in current_player, and it still says mike. Where is current_player defined, and where do we try to change it? We're still unsure why current_player isn't being saved, but let's return the value of the switch player, then we can set that value equal to current player, if for some reason that code isn't working side the actual switch_players function. I mean, the function is doing everything correctly, I guess we have to manually set it outside the function for it to update current_player. Alright, that is true, the function is returning the correct switched player, but it's not being updated, so update it outside of the function. Alright, so setting it outside of the function works (not sure why it doesnt work inside of it) so let's go back to our bigger function and see if we can't get it to work now? We're gonna have to change alot if we remove the @ instances from player1, player2, and current_player.

Ok, so we put our new Player class code back into our bigger code, update the Game glass to call the correct players (without the @), then we instantiate our player objects outside of everything, so hopefully these variables get access and everything works now. We still haven't even tested our play loop lol, we'd thought just placing the piece would be simple, and it turns out it has taken hours just to place the piece. There must be a more elegant way to create these player objects so that their variables can be read outside of putting it all in by itself like this, outside of a class, but we can't seem to figure it out. There's no guarantee this method works either, but it's the best one we've figured out so far, so hopefully it does. Lol, we wait 7 mins for it to compile, only to get an error saying we have too many arguments for Player class and realize we did remove the 3rd parameter "board" from our Player initialize function bc it didn't seem necessary. Ugh, it gets stuck at the exact same spot, saying current_player is not defined, even though we defined it outside of the function. Can we put current_player as a parameter as pass it into one of these functions? Let's try to isolate this play function and try some things out. Maybe we can pass the current player into the play function?

Ok, we start off by removing every function but play from the Game glass, then we strip down the play function into just the loop, which asks the coordinates question, but then doesn't do anything but just puts out the current player and current player's piece, then switches the players. Basically, we want to test this current_player and current_player.piece functionality. We run the Game class with the Player class as well, bc current_player functionality is inside the Player class. Lol, we get an uninitiliazed constant Game, not sure what means, we don't always have to have an initialize function for a class right? We're not sure if the other Game class is interfering with it, so we decide to change the class to TicTacToe. We're gonna rerun the code and see what happens. Obviously we get the same error. I guess we have to put in an initialize function for each class? We decide to just add a puts for the initialize. Now we try it again lol. Lol, same error. We're gonna try a couple things. First off, we change the variable "game" to "game1" since game is used above, not sure if that's a thing. Second, we move our initialization of a new game to in front of all the puts, like in the correct code. Hmm looking at the code as it compiles, reveals that there's an invalid break in the tictactoe Class code... Ok, moving the break part of the code to inside the loop, seemed to have fixed it. Ok, so we still get the invalid current_player variable, which is good I guess, since that means the code is functioning the same as the bigger code, but bad bc it didn't fix that problem. We didn't actually do anything to fix the problem, we were just trying to recreate it? I'm not even sure. But... we decide to put constant player as a parameter into the play function, now let's see if that changes anything. We also removed the initialize from the TicTacToe class, bc we don't think it's relevant. The previous issue was an issue with the break line in our code, not the initialize function.

Now it's saying it doesn't know what player1 is, so, let's put in all the player variables into play, and see if that fixes the issue. Ok good, that actually worked, but we realized our puts weren't clear. We added a puts for the counter to see if its ticking, and a puts for the switched current player's piece. We realize now we shoulda puts the player.name as well, instead of player, bc the program just gives us the object tag, which isn't exactly very descriptive. Yeah, it seems to be working but, our results are too hard to read. Let's rewrite the code one more time, this time with more descriptive puts to make sure our code is giving us what we want. Alright, that worked very well. Putting the play function with the objects that we used inside of it, is something that we've been doing for other coding assignments, but with the classes and the class instances and the class methods, it all got confusing, but this way worked, even though there might be a more simple way. We were able to get the info for our current player, and the counter ticked up after each time, and did break the loop at 9 times. Come to think of it, maybe we didn't need to change everything to an object variable, and coulda used the @ variables, just use play with a parameter for the players. The vikingcodeschool example didn't use parameters, and we definitely think it's not elegant, but we couldn't get their code to work, using the format that we were using. 

Ok, we took the concepts from the partial code that worked, and put it into the main code. We added the player parameters to play, and now let's see if this actually plays like a real tic tac toe game, or is still buggy. If this works, we'll need to work on populating the coordinates_taken_array as the game progresses, and creating win condition checks at the end of each loop, instead of using the temporary solution of a counter. I think the win condition checks are pretty much the end of the project, so hopefully maybe just one more day, so we can start prepping for the school courses. We noticed a couple issues after it was done compiling. For one, the good puts that we had used in the partial code, we didn't copy over to the main code, which made it harder to see who the current player and what their piece was, so we copied that code into the main code. The other thing we noticed was, when we typed 1,2, we expected it to move one to the right, and two spaces up, but it actually moved like the coordinate was 0,1, so we don't actually understand the computers coordinate system. Let's use all the available spaces coordinates, and make a note of where they go, to figure out exactly how the coordinate system is working, bc it isn't the way we thought it was. Ok, so yeah, everything seems to be working well, the player's pieces are getting placed, the counter stopped at 9. We just need to map out the computer coordinates and convert it to standard coordinate system.

Alright, so we mapped out the coordinates that the computer uses, and drew out standard coordinates for comparison. There are 3 spots that stay the same: (0,2),(1,1), and (2,0). We are actually not seeing any real pattern, any equation we can use to convert the numbers, so I think what we want to do, is filter the coordinates input into a valid format, then cross reference these coordinates to a hash and return the corresponding standard coordinates. Hmmm, don't remember how to make a hash in ruby lol. As we're looking through the hash thing, we're thinking, do we really need a hash? Why can't we use an array, and enumerate through the array? We'd want to enumerate through each first item of an array, then spit out the second item. Honestly, that might work, but it seems less elegant than a hash. Alright, we wrote out the function, now let's isolate the coordinate_conversion_hash, filter method, and convert_coordinates method and test them. Lol, our initial hash never took. Crazy lol. From launch school, hashes can be added using "new_hash = {name: 'bob'} => {:name=>'bob'}", and the old school way "old_syntax_hash = {:name => 'bob'} => {:name=>'bob'}". We tried making our hashes of coordinates using the new way, but terminal didn't take, I think it had something to do with them both being coordinates and the brackets surrounding them, but the old school way did work. Furthermore, launch school says to call a hash value we use the hash key with a semicolon before it "person[:weight] => "160 lbs"", but that didn't work for our coordinates hash, we had to use "hash[[coordinates]]" with no semicolon. Lol, we compile again and it still doesn't work. We go to check and miss and end in one of our functions. I think the return threw us off, maybe not sure. It seems the hash doesn't take outside the function, so we'll put it inside the convert_coordinate function.

Lol, our filter method doesn't work, the hell. It was working fine before. We finally figure it out we had the return array inside the loop, so it only returned it once. Ok, so the converting function is working and we go to move it to the bigger code. Interesting, so the code compiles and everything seems fine, but when we go to put the pieces down, they aren't where we want them to be. We add more puts into the code to track what the filtered coordinate and converted coordinates are, then rerun the code. Now that we think about it, maybe the filtered coordinates/converted coordinates aren't adjusting for each loop? That's always a possibility and the tricky part about putting variables with loops. After it compiles, we run it through and see that the coordinates aren't what we expect it to be. We quickly realize that before, when we got the coordinates, it was after we had converted it, according to what we thought the rules were. And we used that converted method to map out the relationships but, it was the incorrect hash bc our mappings are wrong. What we need to do is filter the answer string, check if it's valid, then let it go on the board, to see what our std coordinates look like in computer coordinates. Once we know what each standard coordinate corresponds to in computer coordinates, we update our hash to match the standard coordinate to the computer coordinate.

So after removing all of our filters, we were able to see where each coordinate that we put in standard notation landed on the grid, and map out there relationship inside the coordinate_conversion_hash. Now, let's rerun the code and make sure the pieces are being placed properly, the players and their pieces are accurately kept track of, and the counter stops at 9. Ok, that worked, everything seems to be working correctly. Let's create a real updating coordinates taken array, then create the conditions in which the game ends. So, here's a question. What array is being checked by the coordinates_taken? function. Is it our standard coordinate, or the converted coordinate. I think this array should be the converted coordinate, that's where the marks actually go, but it will harder for us to process that info, bc we are more familiar with the standard coordinate notation. Alright, so how are we gonna test this? We're gonna need the coordinates_taken? function, with the code to check and see if it's taken, and the code that adds coordinates to the coordinates_taken_array. It rejects bc converted coordinate is undefined, we decide to make the adding of the coordinate into the array a function, so we can pass the converted coordinate into it. 

As expected, it says our coordinates_taken_array is undefined, so we need to define it within the function we are calling it I'd say, or pass it as a parameter. Let's try passing it through as a parameter. We put the coordinates taken array as a parameter into the coordinates taken? function, and the add_coordinate function, now let's see what happens. The coordinates taken array is not saving outside of the function, how do we keep it updated? I guess we have to pass it as a parameter around, and that should save it? Looking over the code, we don't really need 2 functions for this? We'll check if the coordinates are valid, and if they are, we can return it to add to the array? Or return the array to update outside of the function is fine too. Yeah, we can set the coordinates taken array equal to the new coordinates taken array returned from the add cordinate function. So yeah, it seems we're gonna need to put the coordinated taken array in as variables in both the coordinates valid and add coordinate functions, then set it equal to the add coordinate function to actually update it.

Alright, so we added the updated coordinates_taken? and add_coordinates functions to the original code, made sure to call them with the additional parameters, put the coordinates_taken_array at the beginning of the Game class, then added the code to update the coordinates taken array equal to the add coordinates (bc it returns the updated coordinated array), then put a debug to puts that array out. Let's see if the code works now. If everything works, we should be able to add coordinates, which are then updated in the coordinates taken array, so if we try to add again, it should reject. Lol, after like 15 mins, it says coordinates_taken_array undefined, so.... let's move it into the play function, rather in at the beginning of the Game class. This should available, like our count counter. Gonna have to wait another 15 mins ugh. Lol, that took like 40 mins for some reason, not sure why so much longer, but we get another error, undefined method for add_coordinate, we go check it and we forgot to add the self back to it after testing it as not a class method. We add the self, now let's try this again lol. Ok, so that looks good. The board is placing the pieces, and the converted coordinates are being added to the coordinates_taken_array, which is rejecting the coordinates that are already taken.

Alright, now we need create each game condition that would end the game. First off, let's see if we can name them. If all 9 positions are filled, the game ends in a tie if there is no winner. We can put a count here to count up to 9. We can also iterate through the array as well, but the count is much simpler. Alright, so we basically moved our counter if statement to after the pieces is placed on the board, and if it reaches 9, then game ends in a tie. Can we test this outside of the big function? Yeah, I definitely think we can. Let's create a similar function, with a counter before a loop, and put that same statement in there, then manipulate the counter so that it hits the break statement and see what happens. OK, so that test function for the counter worked first try, which we kinda expected since it's a pretty simple code. Now, we will put it into the bigger code, and hopefully it works fine. We'll be looking at the coordinates_taken_counter, making sure it ticks up only when a non taken coordinate is given, and also that the game ends when the 9th unique coordinate is given. Ok good, so that worked first try, even though it tooked 30 mins to compile lol.

While this is compiling, let's consider the other ways that the game can end. 1) We already solved when all the spots on the board are taken, and there is no winner, it's a tie... Are there any other situations that result in a tie? I don't think this, this is only time there is a tie, bc if less than 9 pieces are used, it doesnt get here, then the game must have ended bc a winner was declared, so... let's move on to all the possible winning combinations... 2) All the winning combinations are 3 in a row, that is, 3 vertically, 3 horizontally, and 3 diagonally. We have to ask ourselves: a) how do we check for 3 of the same piece in a row b) and similarly, how do we check that a certain coordinate has a certain piece? It seems intially like we'll need another hash that  matches the taken coordinates with the corresponding pieces. So.. when the piece is placed, we can send the piece and its coordinate into a hash, then we can enumerate through each hash, and look for combos that equal winning combinations. Yeah, this will be for all the winning combinations it seems, so when we code one combination, it won't be much harder to code for the other combinations. 

So, I think the first thing we have to do is create a new hash, called coordinate_with_piece hash, that will have each taken coordinate as a key with their corresponding piece as the value. How will we add to this hash? Well, after everytime a piece is put down, we add that coordinate and the piece into this coordinate_with_piece hash. Fist off, I think we're gonna have to test this coordinate with piece hash by itself, just like we test the coordinates_taken_array by itself, to make sure we are creating the hash correctly, adding new key value pairs correctly, and calling the keys and values correctly. Alright, so this hash, is almost identical to the coordinates_conversion_hash that we made earlier. To make it, we have to use the "=>" notation, the old school way to link the coordinate key to the string value. Then, to add to it, we had to type "coordinate_with_piece_hash[[coordinates]] = string", and that adds to the end of the hash. To call the value paired with the key, we use "...hash[[coordinate key]]". Alright, now that we figured out the basics for this hash, we need to create it, but where? I think the same spot where the coordinate_conversion_hash is, since they will be used in similar places, that place being when a piece is placed on the board. Let's extract the relevant code from our play function and try this on a smaller scale to make sure it works. Lol, we shouldn't have deleted that play_test function, bc now it seems we need it again, so yeah, let's recreate all the relevant code from the play function.

Ok, so we create a new test function called play_test, which has an empty coordinate_with_piece_hash and counter = 0 to start with. We have a do loop next, creating a random coordinate via "coordinate = [rand(3), rand(3)]" and a random piece with code "piece = ["x","o"].sample", then we add this coordinate and piece combo into our empty hash, just like we would in the main play function, via this code "coordinate_with_piece_hash[[coordinate]] = piece". We set the loop to tick up the counter by 1, and it to break at counter of 9 or greater, just like the play function. Let's see how this works out. Hmmm, we get an invalid break. We've gotten these before. Let's google break, maybe we're using it wrong? Lol, it turns out we formatted our loop wrong. Instead of using "loop do" we used "loop.do". Once we fixed that the break was actually correct. OK, so our code runs pretty good,and does what we want it to do, wh ich is basically test if our hash creating and hash adding are good for the coordinate and piece. However, with the random coordinates generated between 0,1,2, we got some duplicate coordinates, and with hashes, you can't have duplicate keys, so it just replaced the old value of the coordinate key with the newer value,and didn't add a duplicate key.

Let's use the concepts from this play_test function and put it inside our real play function and update a coordinate_with_piece_hash each time a piece is placed on the board. Alright, so we added the coordinate_with_piece_hash right next to the coordinates_taken_array, then we use "coordinate_with_piece_hash[[converted_coordinate]] = current_player.piece" to add the key value pair of converted coordinate and piece to the coordinate_with_piece_hash. As we were typing this, we realized that we used convert_coordinate instead of converted_coordinate, some of these variables are getting too similar and this VS code autofill always screws us over. As it's compiling, let's assume that this hash works, and the key value pairs are being added correctly, now what? Make sure when this is done compiling to check the coordinate_with_piece_hash is updating with the correct coordinate and piece before each board render. Alright, that worked perfectly, let's move on to the winning combination checks.

We'll need to check the keys of the coordinate_with_piece_hash as criteria for winning board states. So, let's look at the first one, which is top row horizontally. How do we check that? The converted coordinates for the top row are (0,0),(0,1) and (0,2), so we need to write a function that will check and make sure these are all the same, then... we check and make sure the pieces are all the same, and that will constitute a winning position. Alright, let's hack this out in our little play_test function. Hmmm, so we want to access the keys for the coordinates (0,0),(0,1) and (0,2), how do we do that again? Reading through the launchschool info about hashes, the main difference I guess between arrays is that it isn't ordered, or wasn't before a certain update. I guess that means we can't call hash[0] like an array to get the first value, wait, we don't want the first value, we want a specific value. Actually, this is alot easier than we think, just call the 3 hash keys, and if their pieces are all the same, that's a winning combo. Let's test this out on our sample hash to make sure our syntax is correct. OK, good, so the check top row function seemed to work perfectly.

Let's move on to middle row. As we're doing the function for mid row, we realize that all of these checks are going to be very similar. They all check 3 coordinates, vs the coordinate_with_piece hash, so why not make it a more general function and just use 4 parameters (1 for the hash, and 3 others for the coordinates)? We create our more general function, but getting an argument error saying it was expecting 4 parameters but only got 1. Let's put the hash inside the function, since typing out the hash inside the parameter might be confusing the computer? OK, th at didn't get the argument error, but the pieces are not showing.  I think it has something to do with our coordinates and the brackets. Let's make a simpler 1 with just 1 hash item and 1 coordinate and try to pinpoint the problem. Lol, so we tried to fix the argument error by putting double brackets around the coordinates, but we found out it was a hash inside the parameter issue, then when we removed the hash, we didn't get the pieces, which we then realized was bc of the double brackets, so switching it back to single brackets around our coordinates, did work fine. We shoulda realized this was correct initially bc I think we tested it with single brackets initially and it worked.

Now, let's put in some key value pairs for all 9 board positions, then add code to test for mid row, bot row, left column, middle column, right column, left to right diagonal, and right to left diagonal winning combos. Ok, so all the combos seemed to work fine. However, as we were testing, we noticed that if 3 of them didn't have a piece, or were nil, it would still say thats a winning combo, and obv it isn't, so we have to adjust our if statement so that they all can't be nil. As we're trying to fix the nil value problem, we come upon something else. If we are running these tests everytime a piece is placed, at the beginning, most of the coordinates in the coordinate_with_piece hash with not be there, and that might cause an error bc we're trying to find a value pair to a key that doesn't exist. Therefore, we need to augment the way we add to the coordinate_with _piece hash. Right now, we are adding the coordinate and piece together, whenever a new piece is placed, but what we want to do, is start the hash with all the possible coordinates. This will not trigger errors when the winning combos are scanned, but when a piece is placed, it will update to have a value for the coordinate. Then, in order to account for nil values, we can just put in a final stipulation in our check for winner function that coord1 can't be equal to nil. Let's test out on a sample hash what happens when we don't assign a value to the key, then test out this additional if statement to make sure it works.

Ok, so it seems if we want a nil value for the value pair of a key, we'll need to explicitly state that as the value, bc not putting in a value for the key, will give an error. OK, so we put in the additional if statement that checks if coord1 != nil, now, how are we gonna test it? Let's run the code once normally, then change our hash to have a nil value, and see how that affects it. Ugh, we need another negative argument error. We check our code and it seems like we have some extraneous parantheses after the coordinate brackets, so let's remove those and try it again. Alright, so that worked, and x, x, o was not a winning combo. Let's try it again, but add nil for the first value and see what happens. Lol, we expected the nil message, but didn't get it, which makes sense bc with 1 of the coordinates as nil, we'd never reach that nil message. Let's try it with a winning board combo, then with an all nil board combo. OK, our triple x variation worked like we expected, now for the all nil variation, this should give us our nil message bc they all matched, however coord1 is nil. We don't need to check to see if all 3 are nil, the first if statement makes sure all 3 are the same value, so the second if statement asking for coord1 equaling nil is equivalent to all 3 coords being nil. Ok, that test worked, so now what.

We need to incorporate this code into the main code and test it now, which means we have to do a couple of things. First, we set the initial coordinate_with_piece hash with 9 coordinates, then we add the check_for_winner function, adding a 4th parameter, the coordinate_with_piece hash parameter, and then we also have to create a high function the checkforwinner, which will call checkforwinner on all the possible winning combos. By default, all of the coordinate pieces will be set to nil in the coordinate_with_piece hash at the start. Ok, so, we've incorporated the check for winner function into our main code, now we want to test it, but before that, once their is a winner, we need to have a break to break through the loop? Let's put a puts saying who the winner is, and break the do loop. I think we need to change our check for winner function into the check board state, then the higher function is a boolean function game_over? , and set that in the main code to break, if the game is over.

Ok, so we created this code for the check for winner and game over functions, lets test these small code snippets before putting it in the big one. Ok, so for the first snippet, with the hash we used, I think it will return false bc I don't think there is a winner. Hmmm, the first try didn't compile. I think we need the parantheses after our if statement in game over? It's checking alot of winning combos, so we couldn't do it horizontally, and had to do a vertical if statement, which we've never done before. We thought maybe the parantheses would be implied, but I guess they aren't. Hopefully we put them in the right place before recompiling. Lol, we get some weird traceback error when compiling. Looking over the code, it seems we copied and pasted all the or statements, and left an open ended or before "return true" in the game_over? function, so we removed that and try again. Hopefully it works this time lol. Wow, it's still not compiling, same traceback error. Let's convert the vertical if statement to a more conventional horinzontal statement and see if that changes anything. Hmm, the conventional way did work, which is annoying bc we can't comment out all the 3 in a row checks with that if statement. Ok, so the first game_over was false, which was correct. Now, we change the hash so that there will be a winning combo, so we expect this next game_over? to return true.

Alright, so the code to check for a winner is working, now we have to incorporate it back into the main. Remember to update it to a class method, and to add the coordinate_with_piece hash as a 4th parameter, and call it with the 4th parameter included. So... what are we testing again? Basically if there is a winning game state, the play loop should end and we should get a message saying who the winner is. If this code works, then what? Let's test our Person class for why we think we might need attr accessor and see if that works the way we think it does, then put in an AI for the computer to pick coordinates that are available, so we can play vs the computer. Wow, it's finally done after 1.5 hrs, I have no idea why this took so long, but we're gonna update this virtual box, and allocate more memory after this. This is really rediculous. Alright, so the code doesn't seem to work properly. We have a winning board state, but the game is not recognizing it. In fact, it always says that our coord1 is nil, are the coordinates being updated? Hmmm.. looking over the puts for our coordinate_with_piece hash reveals that updating the existing hash results in the coordinates inside a bracket, i.e "[[0,1]] => "x"", but I think the code is not reading this properly, we need to update the hash so that it looks like "[0,1] => "x"". Let's look over the code and see how we're updating the coordinate with piece hash. Yeah it seems we are using this code to update "coordinate_with_piece_hash[[converted_coordinate]] = current_player.piece" when it should probably be like this "coordinate_with_piece_hash[converted_coordinate] = current_player.piece". I'm surprised our code worked before with this error. Let's try this out on a smaller scale to see if it works, then put it in the bigger code. Ok, so we're pretty sure that's the problem, the double brackets, so let's try to compile this again, will take another 1.5 hrs. We briefly looked at the virtual machine settings, but the memory allocation was greyed out or maxed already, doesn't seem like we can upgrade this speed. So after another 1.5 hrs, it does work. We had a puts for "current_player is the winner", but current_player is just a tag for the player, we will change that to current_player.name. 

While its compiling, let's do some brainstorming... How would we go about creating the AI? Honestly I think it's very simple. We want the AI to choose a coordinate that hasn't been taken, to mimic what another player would do. This AI will just be a dumb AI and randomly pick from an array of possible coordinates. Yeah, let's hack this one out real quick. This available_coordinates_array has the opposite functionality of our coordinates_taken_array, when a piece is placed, we add that coordinate to the coordinates taken array, but with the available coordinates array, we will remove it from there. Ok, so we have our array. Now.. to add to an array, we use "push", what is the method to remove from an array again? Apparently there are 2 methods. One is array.delete(element), which will return the element. The other method, which is preferred, is to subtract the element from the array. For example, array[1,2,3] - [2]= [1,3] . This method returns an array, which is more of what we want. So, how will our function computer_pick work? It's gonna loop through this available coordinates array and randomly pick one. I think we can use array.sample to get a random element out of our array. Furthermore, when a piece is placed on the board, not only does that coordinate get added to the coordinates_taken_array, but it now gets removed from our available coordinates array. Let's make a quick function for this. Lol, that was alot faster than we thought. We don't have to loop through anything, just use "array.sample" to pick a random element (or coordinate) from our array. We need to test this function, but this compiler is still compiling, taking soooo long. 

OK, we finally get a chance to test the AI function, and it works, as expected. It's a pretty simple function. Now, let's add it to the main code. Actually let's practice removing items from an array before we put this code into the main code. Ok, so yeah, the removing of things from an array works as we had googled, now let's try to incorporate it into the main code. Testing also reveals that the original array is not modified, so make sure we update our available coordinates array (by setting it equal to the subtraction of array answer). We also realize that if we want the computer to pick, we have to put an if statement somewhere in the play function that will run the computer_pick function depending on if the current player is the computer or not. We're having some issues with the logic for player 1 and player 2. We put all the code in, but now we need to add player 2 specific code in, and not sure how we can get it in. Let's talk this out, currently, everything is for player 1. Can we put something at the beginning that says, if current player is player 2, skip to a certain part of the code? Skip to where we set the the converted coordinate, and don't stop for an answer? Let's copy the bigger code and move it down to play around with it. How do we skip past all the checks for coordinates valid and such for player 1? There is no way to skip everything, we just have to restructure this code. Let's type out the code in functions that we want to perform,and see where player 1 code differs from player 2, and where they are the same.

Wow, that took alot longer than we thought, but I think we sandwiched some logic differentiating between player 1 and player 2 in there. We're gonna compile the code and hopefully everything works now. Basically, we realized that if it was the computer picking, we can skip getting an answer to our question about picking coordinates, filtering the answer, and checking to see if the coordinate is valid. After that, both players will determine the converted coordinate, check to see if coordinate not taken, and go from there. So, we put a check to see if it was player 1, and if it was, we'll ask where they want the coordinate, filter that answer, check if its a valid coordinate, then run the convert coordinate function to get our converted coordinate for player1. We move up the piece of logic saying that the coordinate is invalid if it isn't a valid coordinate, we don't want this code for player 2, bc the computer only chooses from all available valid coordinates. We follow this player 1 logic with the if current player is player 2, or the computer logic, basically stating that the converted coordinate will be equal to Game.computer_pick. This ends the player specific logic. So now we have the rest of the code, starting with the if statement for if the converted coordinate is taken or not. Hopefully the converted coordinate is saved for each player by this point, and the rest of the code is the same as before. If this code works, we just have to test our little sample Person class for the attr accessor issue, and we're done with this Tic Tac Toe assignment. So, what are we checking? We want to pick on our turn, but the computer picks on their turn, make sure all the arrays and hashes are updating properly, and game ends with a winning combo.

Wow, that code actually seemed to work first try. After we go, the computer goes immediately, so each time the board renders, it renders 2 pieces, which is kinda of confusing. What we really want, is for the program to give the computer a turn, maybe like 5 secs, then the computer makes a choice and the board updates. Apparently there is a function called "sleep(num_secs)" where num_secs can be a float or integer, that will pause the code for a bit. Let's try this out... Alright, we wrote a looping program for a sample arr and put "sleep(3)" in it and it waited 3 seconds after printing out each item in the array, pretty cool. So, we want the computer to get asked the question, wait 3 secs, then give a declaration of what the computer choose, then convert that into a converted coordinate, and render it. I think for the time interval for a pause we'll use rand(2..5) or a random interval between 2 to 4 seconds. Makes it more engaging and actually like the computer is thinking. Actually it's pretty annoying to declare what the computer has picked, since it has to be in standard coordinate form, and our available_coordinates_array is in computer coordinate form. I think we can just have a puts saying the computer is thinking, and a little pause, then render the coordinate the computer wants. That's fine.

Ok, so the computer thinking logic worked... It did seem to be pretty quick, but we don't want the player to get bored waiting for the computer. We commented our code for upload, so now we have to recompile and run 1 more time to make sure everything is still working, and we did make some small changes, then we are done. We decide to change the pause time to 5 secs, so make sure to change the comment on that. Alright, we like the 5 sec pause before the computer moves. Looks like we're done.

Ok, let's move on to something that's been in the back of our mind. What exactly is the attr_accessor permission, and is there a relation to these getter functions. We have our sample Person class from before that we used to try to understand the calling of class properties. Let's start with a standard Person class, with an initialize function with just a name. Can we access this name when we create an instantiated Person class object and call name, e.g. "person = Person.new("mike") , person.name". Ok, yeah, this doesn't work, just like we remembered, we get an undefined method "name". Now, let's put a getter function inside this class and see if we can use the name method now. Ok, so yeah, doing that, did work, as we expected as well. Now, here's the rub. What if we remove that getter method, and add attr_accessor for name, is that the same as a getter method? Is that what the reading assignments was talking about? Ok, good, that did work. That's what we thought when it came to our mind after a day of coding, but the reading assignments were clear about why you'd need to use attr accessor. It now makes sense, and is a big deal, as we had a hell of a time trying to access the properties of our objects. We still don't fully understand "@" functionality, but for this assignment, we were able to get it to work.
